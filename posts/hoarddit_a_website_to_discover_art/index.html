<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Hoarddit - A Website to Discover Art | Josef Erben's Blog</title><meta name=keywords content="django,art,hoarddit,project"><meta name=description content="Together with my SO we built hoarddit.com, a website that helps everyone to discover art. It allows you to virtually trade art pieces. This post describes how we spent our innovation points and why hoarddit is not an NFT."><meta name=author content="Josef Erben"><link rel=canonical href=https://www.joseferben.com/posts/hoarddit_a_website_to_discover_art/><meta name=google-site-verification content="G-JHGX0765SG"><link crossorigin=anonymous href=/assets/css/stylesheet.min.ecb5035b070273c5cf2155690d5ba00856862c057817ca6cacdeb96f061bd80c.css integrity="sha256-7LUDWwcCc8XPIVVpDVugCFaGLAV4F8psrN65bwYb2Aw=" rel="preload stylesheet" as=style><link rel=preload href=/logo.png as=image><script defer crossorigin=anonymous src=/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.joseferben.com/favicon/favicon-96x96.ico><link rel=icon type=image/png sizes=16x16 href=https://www.joseferben.com/favicon/favicon-16x16.ico><link rel=icon type=image/png sizes=32x32 href=https://www.joseferben.com/favicon/favicon-32x32.ico><link rel=apple-touch-icon href=https://www.joseferben.com/favicon/apple-touch-icon-180x180.png><link rel=mask-icon href=https://www.joseferben.com/favicon/apple-touch-icon-180x180.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.94.1"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-JHGX0765SG"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-JHGX0765SG",{anonymize_ip:!1})}</script><meta property="og:title" content="Hoarddit - A Website to Discover Art"><meta property="og:description" content="Together with my SO we built hoarddit.com, a website that helps everyone to discover art. It allows you to virtually trade art pieces. This post describes how we spent our innovation points and why hoarddit is not an NFT."><meta property="og:type" content="article"><meta property="og:url" content="https://www.joseferben.com/posts/hoarddit_a_website_to_discover_art/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-11-16T00:00:00+00:00"><meta property="article:modified_time" content="2021-11-16T00:00:00+00:00"><meta property="og:site_name" content="Josef's Blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="Hoarddit - A Website to Discover Art"><meta name=twitter:description content="Together with my SO we built hoarddit.com, a website that helps everyone to discover art. It allows you to virtually trade art pieces. This post describes how we spent our innovation points and why hoarddit is not an NFT."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://www.joseferben.com/posts/"},{"@type":"ListItem","position":3,"name":"Hoarddit - A Website to Discover Art","item":"https://www.joseferben.com/posts/hoarddit_a_website_to_discover_art/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Hoarddit - A Website to Discover Art","name":"Hoarddit - A Website to Discover Art","description":"Together with my SO we built hoarddit.com, a website that helps everyone to discover art. It allows you to virtually trade art pieces. This post describes how we spent our innovation points and why hoarddit is not an NFT.\n","keywords":["django","art","hoarddit","project"],"articleBody":"Together with my SO we built hoarddit.com, a website that helps everyone to discover art. It allows you to virtually trade art pieces. This post describes how we spent our innovation points and why hoarddit is not an NFT.\nTable of Contents  The Core Mechanics The Feeling of Collecting Is It an NFT? Boring Technology Spending Innovation Points Deliberately Summary  The Core Mechanics There is a market with art pieces, currently with about 50'000 unique pieces. Some are owned by other users, but most are still owned by the bank.\nThe price for a piece is usually somewhere between 50 and 500. When you visit hoarddit.com for the first time, you are given a balance of 1000. Every 5 seconds that you spend on hoarddit, your balance gets incremented.\nYou can buy art that you like with that play money. If you can not afford a piece, just like it so you can buy it once you have enough.\nYour collection is the art that you bought and it is public. If you think you can sell a piece for a higher price, put it up for sale. Study the price chart to find trends.\nThe Feeling of Collecting When we were younger, we were always collecting something. There where different phases where everyone in primary school was collecting the same things. One year it was Yu-Gi-Oh! cards, then it was Pokemon and during the FIFA world cup it was soccer player cards.\nWith hoarddit we wanted to recreate that feeling of building up a collection. The name is an amalgamation of hoarding and reddit because that is where the art is from.\nHowever, collecting cards and collecting art on hoarddit are not the same thing. Usually there are multiple people in the world that own the same Yu-Gi-Oh! cards, but an art piece on hoarddit can have only one owner.\nWhen you buy a piece on hoarddit with your play money, you don’t actually own it. You only own the reference to the art on hoarddit. Hoarddit guarantees that no one else owns a reference to the same piece. (At least that is the promise, in reality we have to implement de-duplication.)\nOwning a reference to art. Play money. Now this rings a bell. And for some it might even raise a red flag.\nIs It an NFT? On hoarddit.com we state that the project is not an NFT. Is that really the case? Let’s examine the definition of an NFT on Wikipedia:\n A non-fungible token (NFT) is a unique and non-interchangeable unit of data stored on a digital ledger (blockchain).\n The art pieces on hoarddit are unique units of data stored in PostgreSQL. The definition says nothing about the ledger being distributed. If there was no mention about /blockchain, maybe one could argue that hoarddit is an NFT platform by this definition.\nHowever, there is no blockchain involved, there are no tokens on distributed ledgers and most importantly, no one is getting rich over night.\nIn fact, hoarddit costs couple of bucks a month to host and there are no plans to monetize it.\nBoring Technology We chose boring and tested technology that we were familiar with.\nHoarddit is a Django app using Postgres and good old server side templates. For some dynamic components HTMX was used. The design is powered by customized Bootstrap 5. For crawling and sending emails we are using Django Q.\nEmail sending uses the generous free tier of Mailjet. The whole thing is deployed on a Hetzner VPS using Dokku.\nSentry and Uptimerobot are used for monitoring and reporting.\nThis is the final picture, but it was a process to end up with this stack. A process that involved spending some innovation points.\nUpdate 22.11.2021 We should at this point define innovation points.\nIn a project, we usually try to find a good balance between trying out new innovative (and potentially more productive) ways to do something and just getting things done. We tend to innovate/tinker/experiment too much and that’s why we give ourselves a limited amount of innovation points that that we can spend within a project.\nWhile developing hoarddit, we decided to try out new things on the UI side, so that is where we spent most of the innovation points.\nOf course that is more of a mental model and there are no actual points :)\nSpending Innovation Points Deliberately Early on during development, it became clear to us that hoarddit had some dynamic elements.\nUsers expect immediate feedback after clicking a like button. I dare you to try to refresh the page after the user leaves a like. Similar story with buying and selling art pieces. The most involved dynamic element however is infinite scrolling. Pagination by clicking next is out thanks to user metrics maximization. Even websites that have pagination in their name use infinite scrolling.\n  Which approach is the best in a situation like this? We spent some innovation points to find out.\nReact vs. AlpineJS vs. Vanilla JS vs. HTMX React Having worked with NextJS and React quite a bit, it was easy to eliminate React and the SPA approach.\nWe simply could not justify having a separate build process in a second language with a separate application lifecycle. The requirements define a limited amount of interactivity.\nOf course, there is always that voice that tells you that you could power through all the complexity for a setup that can handle arbitrary dynamic and interactive web apps.\nReact is a great tool, but it might not be the best tool for the job.\nAlpineJS We like simple and small things without dependencies. AlpineJS’s philosophy seems to honor that. AlpineJS can be used with server side templates, so we decided to give it a shot.\nThe installation was super easy. You include it in your HTML, no build process needed, 10/10.\nThe first thing we implemented was the navigation bar. This was in a early version of hoarddit before we used the Bootstrap navigation component.\nThe documentation of AlpineJS is very good, we had a working navigation that opens and closes on click within seconds. So far so good.\nNext, we wanted to implement the like feature. This involved an HTTP POST request. We did not do it inline, but separated the behavior from the markup. That went quite well, too. We were able to like and unlike art pieces within minutes.\nImplementing the buy and sell features went similarly. However, we started to notice a pattern, a pattern that we did not like.\nsvg  xmlns=\"http://www.w3.org/2000/svg\"  class=\"h-6 w-6\"  x-bind:fill=\"liked ? 'red' : 'none'\"  fill=\"{% if detail.liked %}red{% else %}none{% endif%}\"  viewBox=\"0 0 24 24\"  x-bind:stroke=\"liked ? 'red' : 'currentColor'\"  stroke=\"{% if detail.liked %}red{% else %}none{% endif%}\"    ... svg It is true that with AlpineJS you get to use good old server side templates while you sprinkling some interactivity on top.\nFor more complex use cases however, there will be a lot of duplication. Templating logic has to be written twice, once in the server side templating language and once in AlpineJS.\nQuickly we found ourselves googling terms such as AlpineJS server side rendering hoping to find a solution on how to express the templates once and have Django and AlpineJS interpret them separately.\nA term that was used frequently a few years back was isomorphic rendering. This describes the template rendering process on the server and on the client being somewhat similar. If you use the term isomorphic rendering with this wonky definition and a Haskeller is nearby, you did not read it here!\nAlpineJS was a joy to use for little stateless elements like the navigation that opens and closes. Our use case seems to be too complex for it however.\nVanilla JavaScript In a moment of minimalism we decided to scrap all frameworks and libraries. What do they give us anyway apart from dependency hell and layers and layers of abstraction?\nAfter implementing the navigation in JavaScript, it became clear that we did not want to further go down this route.\nfunction loadNavigation() {  const closeButton = document.getElementById(\"navigation-close-button\");  const openButton = document.getElementById(\"navigation-open-button\");  const navigationOpen = document.getElementById(\"navigation-open\");  const navigationClosed = document.getElementById(\"navigation-closed\");  closeButton.addEventListener('click', function (event) {  navigationOpen.classList.add(\"d-none\");  navigationClosed.classList.remove(\"d-none\");  });  openButton.addEventListener('click', function (event) {  navigationOpen.classList.remove(\"d-none\");  navigationClosed.classList.add(\"d-none\");  }); } Using JavaScript improved the dependency situation compared to AlpineJS, because there was one dependency less. But the gain was minimal, AlpineJS is just very lightweight and easy to include.\nAll of the sudden we had references to DOM nodes including the maintenance burden they bring. No thanks!\nHTMX The next piece of technology we tried out was HTMX, which further reduced the amount of JavaScript we had to write.\nMeanwhile we started using the navigation component of Bootstrap 5, so there was no custom JavaScript to write.\nFeeling empowered by the good documentation and useful examples on the HTMX website, we decided to implement infinite scrolling. Half an hour later, we had the first working version.\nIn a rush of euphoria, we decided to HTMXize the whole project; liking, unliking, selling, buying and updating the balance. It went quite well, we implemented all those features without duplicating code in the backend and on the client.\nThis is how the markup of the like feature looks like:\nbutton id=\"piece-detail-like-toggle-button\"  hx-post=\"{% url 'core:like' details.piece.id %}\"  hx-swap=\"outerHtml\"  hx-target=\"#piece-detail-dynamic\"  type=\"button\" class=\"btn btn-outline-secondary\"  i class=\"bi bi-suit-heart\"i button HTMX truly feels like an extension of HTML, something that should have been standardized and included in HTML a while ago.\nThere seems to be a movement towards server side rendering + smartness like Liveview, Blazor, Livewire and Hotwire.\nTo this date, HTMX is powering the dynamic and interactive elements of hoarddit. There is a bit of custom JavaScript that allows the user to like a picture by double tap or the rendering of price charts.\nRunning Out of Innovation Points This blog post was written with the power of hindsight and we make it sound like we spent innovation points very precisely in a controlled way. That was not the case.\nIn search of simplicity and boredom, we initially deployed hoarddit to AWS Elastic Beanstalk. This worked quite well until we needed workers. The Beanstalk way to do this is to use a separate worker environment within the same Beanstalk project.\nBack then, hoarddit used huey which we were not able to get working on Beanstalk. So we kept trying out queues until we found one that worked. It felt weird to not have an identical setup locally, but the deployment to Beanstalk was quite ergonomic.\nAnd then we needed a staging environment. On Beanstalk, this means a second project with the same environments, which means twice the costs. The Beanstalk deployments were sometimes hanging for no obvious reason, so we decided to self host. We did not need Elastic Load Balancer anyway.\nWe got ourselves a small VPS at Hetzner and deployed everything with Dokku. Dokku is a great piece of simple technology that deserves its own blog post.\nSummary Finishing up a pet project that was built over several months with a couple of hours every other weekend feels amazing.\nHoarddit has a few active users and the early feedback we got is positive. Many requested social features that make things others do more visible.\nIf you have any feedback or feature request, don’t hesitate to reach out by social media or email at hello@hoarddit.com.\n","wordCount":"1891","inLanguage":"en","datePublished":"2021-11-16T00:00:00Z","dateModified":"2021-11-16T00:00:00Z","author":[{"@type":"Person","name":"Josef Erben"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.joseferben.com/posts/hoarddit_a_website_to_discover_art/"},"publisher":{"@type":"Organization","name":"Josef Erben's Blog","logo":{"@type":"ImageObject","url":"https://www.joseferben.com/favicon/favicon-96x96.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://www.joseferben.com accesskey=h title="'s Blog (Alt + H)"><img src=/logo.png alt=logo aria-label=logo height=95>'s Blog</a>
<span class=logo-switches></span></div><ul id=menu><li><a href=https://www.joseferben.com/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://www.joseferben.com/tags/project/ title=Projects><span>Projects</span></a></li><li><a href=https://www.joseferben.com/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://www.joseferben.com/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Hoarddit - A Website to Discover Art</h1><div class=post-meta><span title="2021-11-16 00:00:00 +0000 UTC">November 16, 2021</span>&nbsp;·&nbsp;9 min&nbsp;·&nbsp;Josef Erben</div></header><div class=post-content><p>Together with <a href=https://www.instagram.com/tylmarple/>my SO</a> we built <a href=https://www.hoarddit.com>hoarddit.com</a>, a website that helps everyone to discover art. It allows you to virtually trade art pieces. This post describes how we spent our innovation points and why hoarddit is not an NFT.</p><h3 id=table-of-contents>Table of Contents<a hidden class=anchor aria-hidden=true href=#table-of-contents>#</a></h3><ul><li><a href=#the-core-mechanics>The Core Mechanics</a></li><li><a href=#the-feeling-of-collecting>The Feeling of Collecting</a></li><li><a href=#is-it-an-nft>Is It an NFT?</a></li><li><a href=#boring-technology>Boring Technology</a></li><li><a href=#spending-innovation-points-deliberately>Spending Innovation Points Deliberately</a></li><li><a href=#summary>Summary</a></li></ul><h2 id=the-core-mechanics>The Core Mechanics<a hidden class=anchor aria-hidden=true href=#the-core-mechanics>#</a></h2><p><img loading=lazy src=/ox-hugo/intro.gif alt>
There is a market with art pieces, currently with about 50'000 unique pieces. Some are owned by other users, but most are still owned by the bank.</p><p>The price for a piece is usually somewhere between 50 and 500. When you visit <a href=https://www.hoarddit.com>hoarddit.com</a> for the first time, you are given a balance of 1000. Every 5 seconds that you spend on hoarddit, your balance gets incremented.</p><p>You can buy art that you like with that play money. If you can not afford a piece, just like it so you can buy it once you have enough.</p><p>Your collection is the art that you bought and it is public. If you think you can sell a piece for a higher price, put it up for sale. Study the price chart to find trends.</p><h2 id=the-feeling-of-collecting>The Feeling of Collecting<a hidden class=anchor aria-hidden=true href=#the-feeling-of-collecting>#</a></h2><p>When we were younger, we were always collecting something. There where different phases where everyone in primary school was collecting the same things. One year it was Yu-Gi-Oh! cards, then it was Pokemon and during the FIFA world cup it was soccer player cards.</p><p>With hoarddit we wanted to recreate that feeling of building up a collection. The name is an amalgamation of <em>hoarding</em> and <em>reddit</em> because that is where the art is from.</p><p>However, collecting cards and collecting art on hoarddit are not the same thing. Usually there are multiple people in the world that own the same Yu-Gi-Oh! cards, but an art piece on hoarddit can have only one owner.</p><p>When you buy a piece on hoarddit with your play money, you don&rsquo;t actually own it. You only own the reference to the art on hoarddit. Hoarddit guarantees that no one else owns a reference to the same piece. (At least that is the promise, in reality we have to implement de-duplication.)</p><p>Owning a reference to art. Play money. Now this rings a bell. And for some it might even raise a red flag.</p><h2 id=is-it-an-nft>Is It an NFT?<a hidden class=anchor aria-hidden=true href=#is-it-an-nft>#</a></h2><p>On <a href=https://www.hoarddit.com/about/>hoarddit.com</a> we state that the project is not an NFT. Is that really the case? Let&rsquo;s examine the definition of an NFT on Wikipedia:</p><blockquote><p>A non-fungible token (NFT) is a unique and non-interchangeable unit of data stored on a digital ledger (blockchain).</p></blockquote><p>The art pieces on hoarddit are unique units of data stored in PostgreSQL. The definition says nothing about the ledger being <em>distributed</em>. If there was no mention about /blockchain, maybe one could argue that hoarddit is an NFT platform by this definition.</p><p>However, there is no blockchain involved, there are no tokens on distributed ledgers and most importantly, no one is <a href=https://playsquidnft.com/>getting rich over night</a>.</p><p>In fact, hoarddit costs couple of bucks a month to host and there are no plans to monetize it.</p><h2 id=boring-technology>Boring Technology<a hidden class=anchor aria-hidden=true href=#boring-technology>#</a></h2><p>We chose boring and tested technology that we were familiar with.</p><p>Hoarddit is a Django app using Postgres and good old server side templates. For some dynamic components <a href=https://htmx.org/>HTMX</a> was used. The design is powered by customized Bootstrap 5. For crawling and sending emails we are using <a href=https://django-q.readthedocs.io/en/latest/>Django Q</a>.</p><p>Email sending uses the generous free tier of <a href=https://www.mailjet.com/>Mailjet</a>. The whole thing is deployed on a <a href=https://www.hetzner.com/>Hetzner</a> VPS using <a href=https://dokku.com/>Dokku</a>.</p><p><a href=https://sentry.io/welcome/>Sentry</a> and <a href=https://uptimerobot.com/>Uptimerobot</a> are used for monitoring and reporting.</p><p>This is the final picture, but it was a process to end up with this stack. A process that involved spending some innovation points.</p><h3 id=update-22-dot-11-dot-2021>Update 22.11.2021<a hidden class=anchor aria-hidden=true href=#update-22-dot-11-dot-2021>#</a></h3><p>We should at this point define <em>innovation points</em>.</p><p>In a project, we usually try to find a good balance between trying out new innovative (and potentially more productive) ways to do something and just getting things done. We tend to innovate/tinker/experiment too much and that&rsquo;s why we give ourselves a limited amount of innovation points that that we can spend within a project.</p><p>While developing hoarddit, we decided to try out new things on the UI side, so that is where we spent most of the innovation points.</p><p>Of course that is more of a mental model and there are no actual points :)</p><h2 id=spending-innovation-points-deliberately>Spending Innovation Points Deliberately<a hidden class=anchor aria-hidden=true href=#spending-innovation-points-deliberately>#</a></h2><p>Early on during development, it became clear to us that hoarddit had some dynamic elements.</p><p>Users expect immediate feedback after clicking a like button. I dare you to try to refresh the page after the user leaves a like. Similar story with buying and selling art pieces.
<img loading=lazy src=/ox-hugo/piece_detail_actions.gif alt></p><p>The most involved dynamic element however is infinite scrolling. Pagination by clicking <em>next</em> is out thanks to user metrics maximization. Even websites <a href=https://9gag.com/>that have pagination in their name</a> use infinite scrolling.</p><figure><img loading=lazy src=/ox-hugo/infinite_scrolling.gif></figure><p>Which approach is the best in a situation like this? We spent some innovation points to find out.</p><h3 id=react-vs-dot-alpinejs-vs-dot-vanilla-js-vs-dot-htmx>React vs. AlpineJS vs. Vanilla JS vs. HTMX<a hidden class=anchor aria-hidden=true href=#react-vs-dot-alpinejs-vs-dot-vanilla-js-vs-dot-htmx>#</a></h3><h4 id=react>React<a hidden class=anchor aria-hidden=true href=#react>#</a></h4><p>Having worked with NextJS and React quite a bit, it was easy to eliminate React and the SPA approach.</p><p>We simply could not justify having a separate build process in a second language with a separate application lifecycle. The requirements define a limited amount of interactivity.</p><p>Of course, there is always that voice that tells you that you could power through all the complexity for a setup that can handle arbitrary dynamic and interactive web apps.</p><p>React is a great tool, but it might not be the best tool for the job.</p><h4 id=alpinejs>AlpineJS<a hidden class=anchor aria-hidden=true href=#alpinejs>#</a></h4><p>We like simple and small things without dependencies. <a href=https://github.com/alpinejs/alpine>AlpineJS</a>&rsquo;s philosophy seems to honor that. AlpineJS can be used with server side templates, so we decided to give it a shot.</p><p>The installation was super easy. You include it in your HTML, no build process needed, 10/10.</p><p>The first thing we implemented was the navigation bar. This was in a early version of hoarddit before we used the Bootstrap navigation component.</p><p>The documentation of AlpineJS is very good, we had a working navigation that opens and closes on click within seconds. So far so good.</p><p>Next, we wanted to implement the <em>like</em> feature. This involved an HTTP POST request. We did not do it inline, but separated the behavior from the markup. That went quite well, too. We were able to like and unlike art pieces within minutes.</p><p>Implementing the buy and sell features went similarly. However, we started to notice a pattern, a pattern that we did not like.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>svg</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>xmlns</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;http://www.w3.org/2000/svg&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;h-6 w-6&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>x-bind:fill</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;liked ? &#39;red&#39; : &#39;none&#39;&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>fill</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{% if detail.liked %}red{% else %}none{% endif%}&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>viewBox</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;0 0 24 24&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>x-bind:stroke</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;liked ? &#39;red&#39; : &#39;currentColor&#39;&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>stroke</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{% if detail.liked %}red{% else %}none{% endif%}&#34;</span>
</span></span><span style=display:flex><span>  &gt;
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>svg</span>&gt;
</span></span></code></pre></div><p>It is true that with AlpineJS you get to use good old server side templates while you sprinkling some interactivity on top.</p><p>For more complex use cases however, there will be a lot of duplication. Templating logic has to be written twice, once in the server side templating language and once in AlpineJS.</p><p>Quickly we found ourselves googling terms such as <em>AlpineJS server side rendering</em> hoping to find a solution on how to express the templates once and have Django and AlpineJS interpret them separately.</p><p>A term that was used frequently a few years back was <em>isomorphic rendering</em>. This describes the template rendering process on the server and on the client being somewhat similar. If you use the term <em>isomorphic rendering</em> with this wonky definition and a Haskeller is nearby, you did not read it here!</p><p>AlpineJS was a joy to use for little stateless elements like the navigation that opens and closes. Our use case seems to be too complex for it however.</p><h4 id=vanilla-javascript>Vanilla JavaScript<a hidden class=anchor aria-hidden=true href=#vanilla-javascript>#</a></h4><p>In a moment of minimalism we decided to scrap all frameworks and libraries. What do they give us anyway apart from dependency hell and layers and layers of abstraction?</p><p>After implementing the navigation in JavaScript, it became clear that we did not want to further go down this route.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>loadNavigation</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>closeButton</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#34;navigation-close-button&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>openButton</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#34;navigation-open-button&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>navigationOpen</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#34;navigation-open&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>navigationClosed</span> <span style=color:#f92672>=</span> document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#34;navigation-closed&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>closeButton</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;click&#39;</span>, <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>event</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>navigationOpen</span>.<span style=color:#a6e22e>classList</span>.<span style=color:#a6e22e>add</span>(<span style=color:#e6db74>&#34;d-none&#34;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>navigationClosed</span>.<span style=color:#a6e22e>classList</span>.<span style=color:#a6e22e>remove</span>(<span style=color:#e6db74>&#34;d-none&#34;</span>);
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>openButton</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#39;click&#39;</span>, <span style=color:#66d9ef>function</span> (<span style=color:#a6e22e>event</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>navigationOpen</span>.<span style=color:#a6e22e>classList</span>.<span style=color:#a6e22e>remove</span>(<span style=color:#e6db74>&#34;d-none&#34;</span>);
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>navigationClosed</span>.<span style=color:#a6e22e>classList</span>.<span style=color:#a6e22e>add</span>(<span style=color:#e6db74>&#34;d-none&#34;</span>);
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Using JavaScript improved the dependency situation compared to AlpineJS, because there was one dependency less. But the gain was minimal, AlpineJS is just very lightweight and easy to include.</p><p>All of the sudden we had references to DOM nodes including the maintenance burden they bring. No thanks!</p><h4 id=htmx>HTMX<a hidden class=anchor aria-hidden=true href=#htmx>#</a></h4><p>The next piece of technology we tried out was HTMX, which further reduced the amount of JavaScript we had to write.</p><p>Meanwhile we started using the navigation component of Bootstrap 5, so there was no custom JavaScript to write.</p><p>Feeling empowered by the good documentation and useful examples on the <a href=https://htmx.org/examples/>HTMX website</a>, we decided to implement infinite scrolling. Half an hour later, we had the first working version.</p><p>In a rush of euphoria, we decided to HTMXize the whole project; liking, unliking, selling, buying and updating the balance. It went quite well, we implemented all those features without duplicating code in the backend and on the client.</p><p>This is how the markup of the <em>like</em> feature looks like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;piece-detail-like-toggle-button&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>hx-post</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;{% url &#39;core:like&#39; details.piece.id %}&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>hx-swap</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;outerHtml&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>hx-target</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#piece-detail-dynamic&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-outline-secondary&#34;</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#f92672>i</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;bi bi-suit-heart&#34;</span>&gt;&lt;/<span style=color:#f92672>i</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>button</span>&gt;
</span></span></code></pre></div><p>HTMX truly feels like an extension of HTML, something that should have been standardized and included in HTML a while ago.</p><p>There seems to be a movement towards server side rendering + smartness like <a href=https://hexdocs.pm/phoenix_live_view/Phoenix.LiveView.html>Liveview</a>, <a href=https://dotnet.microsoft.com/apps/aspnet/web-apps/blazor>Blazor</a>, <a href=https://laravel-livewire.com>Livewire</a> and <a href=https://hotwired.dev/>Hotwire</a>.</p><p>To this date, HTMX is powering the dynamic and interactive elements of hoarddit. There is a bit of custom JavaScript that allows the user to like a picture by double tap or the rendering of price charts.</p><h3 id=running-out-of-innovation-points>Running Out of Innovation Points<a hidden class=anchor aria-hidden=true href=#running-out-of-innovation-points>#</a></h3><p>This blog post was written with the power of hindsight and we make it sound like we spent innovation points very precisely in a controlled way. That was not the case.</p><p>In search of simplicity and boredom, we initially deployed hoarddit to <a href=https://aws.amazon.com/elasticbeanstalk/>AWS Elastic Beanstalk</a>. This worked quite well until we needed workers. The Beanstalk way to do this is to use a separate worker environment within the same Beanstalk project.</p><p>Back then, hoarddit used <a href=https://huey.readthedocs.io/en/latest/django.html>huey</a> which we were not able to get working on Beanstalk. So we kept trying out queues until we found one that worked. It felt weird to not have an identical setup locally, but the deployment to Beanstalk was quite ergonomic.</p><p>And then we needed a staging environment. On Beanstalk, this means a second project with the same environments, which means twice the costs. The Beanstalk deployments were sometimes hanging for no obvious reason, so we decided to self host. We did not need Elastic Load Balancer anyway.</p><p>We got ourselves a small VPS at Hetzner and deployed everything with Dokku. Dokku is a great piece of simple technology that deserves its own blog post.</p><h2 id=summary>Summary<a hidden class=anchor aria-hidden=true href=#summary>#</a></h2><p>Finishing up a pet project that was built over several months with a couple of hours every other weekend feels amazing.</p><p>Hoarddit has a few active users and the early feedback we got is positive. Many requested social features that make things others do more visible.</p><p>If you have any feedback or feature request, don&rsquo;t hesitate to reach out by social media or email at <a href=mailto:hello@hoarddit.com>hello@hoarddit.com</a>.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.joseferben.com/tags/django/>django</a></li><li><a href=https://www.joseferben.com/tags/art/>art</a></li><li><a href=https://www.joseferben.com/tags/hoarddit/>hoarddit</a></li><li><a href=https://www.joseferben.com/tags/project/>project</a></li></ul><nav class=paginav><a class=prev href=https://www.joseferben.com/posts/generate_random_strings_on_linux_in_one_line/><span class=title>« Prev Page</span><br><span>Generating Random Strings on Linux in One Line</span></a>
<a class=next href=https://www.joseferben.com/posts/play_anno_1404_venice_on_proton/><span class=title>Next Page »</span><br><span>Playing Anno 1404 Venice on Proton</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Hoarddit - A Website to Discover Art on twitter" href="https://twitter.com/intent/tweet/?text=Hoarddit%20-%20A%20Website%20to%20Discover%20Art&url=https%3a%2f%2fwww.joseferben.com%2fposts%2fhoarddit_a_website_to_discover_art%2f&hashtags=django%2cart%2choarddit%2cproject"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Hoarddit - A Website to Discover Art on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.joseferben.com%2fposts%2fhoarddit_a_website_to_discover_art%2f&title=Hoarddit%20-%20A%20Website%20to%20Discover%20Art&summary=Hoarddit%20-%20A%20Website%20to%20Discover%20Art&source=https%3a%2f%2fwww.joseferben.com%2fposts%2fhoarddit_a_website_to_discover_art%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Hoarddit - A Website to Discover Art on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.joseferben.com%2fposts%2fhoarddit_a_website_to_discover_art%2f&title=Hoarddit%20-%20A%20Website%20to%20Discover%20Art"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Hoarddit - A Website to Discover Art on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.joseferben.com%2fposts%2fhoarddit_a_website_to_discover_art%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Hoarddit - A Website to Discover Art on whatsapp" href="https://api.whatsapp.com/send?text=Hoarddit%20-%20A%20Website%20to%20Discover%20Art%20-%20https%3a%2f%2fwww.joseferben.com%2fposts%2fhoarddit_a_website_to_discover_art%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Hoarddit - A Website to Discover Art on telegram" href="https://telegram.me/share/url?text=Hoarddit%20-%20A%20Website%20to%20Discover%20Art&url=https%3a%2f%2fwww.joseferben.com%2fposts%2fhoarddit_a_website_to_discover_art%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://www.joseferben.com>Josef Erben's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerText="copy";function s(){e.innerText="copied!",setTimeout(()=>{e.innerText="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>