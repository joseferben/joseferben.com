<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Running Django Commands on AWS Elastic Beanstalk | Josef's Blog</title>
<meta name=keywords content>
<meta name=description content="AWS Elastic Beanstalk is a service that takes care of setting up all the AWS resources to host a typical web app.
When hosting Django applications, it is often required to run commands on the server to do some maintenance tasks. Beanstalk provisions EC2 instances which are running the web server processes. Django commands need to run in the same environment.
You might want to fix your shell first.
After connecting using SSH with">
<meta name=author content="Josef Erben">
<link rel=canonical href=https://www.joseferben.com/posts/running_django_commands_on_aws_elastic_beanstalk/>
<meta name=google-site-verification content="G-JHGX0765SG">
<link crossorigin=anonymous href=/assets/css/stylesheet.min.d7e1e8d0724a4345dfa9ce24a269c7b2d0ca162129c7ad4bf837aa9b2d499662.css integrity="sha256-1+Ho0HJKQ0Xfqc4komnHstDKFiEpx61L+Deqmy1JlmI=" rel="preload stylesheet" as=style>
<link rel=preload href=/favicon/apple-touch-icon-180x180.png as=image>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.joseferben.com/favicon/favicon-96x96.ico>
<link rel=icon type=image/png sizes=16x16 href=https://www.joseferben.com/favicon/favicon-16x16.ico>
<link rel=icon type=image/png sizes=32x32 href=https://www.joseferben.com/favicon/favicon-32x32.ico>
<link rel=apple-touch-icon href=https://www.joseferben.com/favicon/apple-touch-icon-180x180.png>
<link rel=mask-icon href=https://www.joseferben.com/favicon/apple-touch-icon-180x180.png>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.87.0">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JHGX0765SG"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-JHGX0765SG',{anonymize_ip:!1})}</script>
<meta property="og:title" content="Running Django Commands on AWS Elastic Beanstalk">
<meta property="og:description" content="AWS Elastic Beanstalk is a service that takes care of setting up all the AWS resources to host a typical web app.
When hosting Django applications, it is often required to run commands on the server to do some maintenance tasks. Beanstalk provisions EC2 instances which are running the web server processes. Django commands need to run in the same environment.
You might want to fix your shell first.
After connecting using SSH with">
<meta property="og:type" content="article">
<meta property="og:url" content="https://www.joseferben.com/posts/running_django_commands_on_aws_elastic_beanstalk/"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2021-08-13T00:00:00+00:00">
<meta property="article:modified_time" content="2021-08-13T00:00:00+00:00"><meta property="og:site_name" content="Josef's Blog">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Running Django Commands on AWS Elastic Beanstalk">
<meta name=twitter:description content="AWS Elastic Beanstalk is a service that takes care of setting up all the AWS resources to host a typical web app.
When hosting Django applications, it is often required to run commands on the server to do some maintenance tasks. Beanstalk provisions EC2 instances which are running the web server processes. Django commands need to run in the same environment.
You might want to fix your shell first.
After connecting using SSH with">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://www.joseferben.com/posts/"},{"@type":"ListItem","position":3,"name":"Running Django Commands on AWS Elastic Beanstalk","item":"https://www.joseferben.com/posts/running_django_commands_on_aws_elastic_beanstalk/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Running Django Commands on AWS Elastic Beanstalk","name":"Running Django Commands on AWS Elastic Beanstalk","description":"AWS Elastic Beanstalk is a service that takes care of setting up all the AWS resources to host a typical web app.\nWhen hosting Django applications, it is often required to run commands on the server to do some maintenance tasks. Beanstalk provisions EC2 instances which are running the web server processes. Django commands need to run in the same environment.\nYou might want to fix your shell first.\nAfter connecting using SSH with","keywords":[],"articleBody":"AWS Elastic Beanstalk is a service that takes care of setting up all the AWS resources to host a typical web app.\nWhen hosting Django applications, it is often required to run commands on the server to do some maintenance tasks. Beanstalk provisions EC2 instances which are running the web server processes. Django commands need to run in the same environment.\nYou might want to fix your shell first.\nAfter connecting using SSH with\neb ssh load the environment variables using\nexport $(cat /opt/elasticbeanstalk/deployment/env | xargs) then load the Python environment using\nsource /var/app/venv and finally run your Django command\npython /var/app/current/manage.py runserver ","wordCount":"103","inLanguage":"en","datePublished":"2021-08-13T00:00:00Z","dateModified":"2021-08-13T00:00:00Z","author":[{"@type":"Person","name":"Josef Erben"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.joseferben.com/posts/running_django_commands_on_aws_elastic_beanstalk/"},"publisher":{"@type":"Organization","name":"Josef's Blog","logo":{"@type":"ImageObject","url":"https://www.joseferben.com/favicon/favicon-96x96.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<noscript>
<style type=text/css>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://www.joseferben.com accesskey=h title="Blog (Alt + H)">
<img src=/favicon/apple-touch-icon-180x180.png alt=logo aria-label=logo height=40>Blog</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
Running Django Commands on AWS Elastic Beanstalk
</h1>
<div class=post-meta>August 13, 2021&nbsp;Â·&nbsp;Josef Erben
</div>
</header> <div class=toc>
<details>
<summary accesskey=c title="(Alt + C)">
<div class=details>Table of Contents</div>
</summary>
<div class=inner>
</div>
</details>
</div>
<div class=post-content><p>AWS Elastic Beanstalk is a service that takes care of setting up all the AWS resources to host a typical web app.</p>
<p>When hosting Django applications, it is often required to run commands on the server to do some maintenance tasks. Beanstalk provisions EC2 instances which are running the web server processes. Django commands need to run in the same environment.</p>
<p>You might want to fix your shell first.</p>
<p>After connecting using SSH with</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>eb ssh
</code></pre></div><p>load the environment variables using</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>export <span style=color:#66d9ef>$(</span>cat /opt/elasticbeanstalk/deployment/env | xargs<span style=color:#66d9ef>)</span>
</code></pre></div><p>then load the Python environment using</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>source /var/app/venv
</code></pre></div><p>and finally run your Django command</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>python /var/app/current/manage.py runserver
</code></pre></div>
</div>
<footer class=post-footer>
<nav class=paginav>
<a class=prev href=https://www.joseferben.com/posts/autostart_dropbox_on_nixos/>
<span class=title>Â« Prev Page</span>
<br>
<span>Autostart Dropbox on NixOS using I3WM</span>
</a>
</nav>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2021 <a href=https://www.joseferben.com>Josef's Blog</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)">
<button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</button>
</a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script>
</body>
</html>